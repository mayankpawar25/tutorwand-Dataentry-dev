<?php

namespace Tests\Feature;

use Illuminate\Foundation\Testing\RefreshDatabase;
use Illuminate\Foundation\Testing\WithFaker;
use Illuminate\Support\Facades\Http;
use Illuminate\Http\Response;
use Tests\TestCase;

class GradingTest extends TestCase
{
    /**
     * A basic feature test example.
     *
     * @return void
     */
    public function testExample()
    {
        $response = $this->get('/');

        $response->assertStatus(Response::HTTP_OK);
    }
    
    /** 
     * @group GradingHome
     */
    public function testGradingAssessmentHomePageSucess(){
        $sessionData = '{"userId":"107540876783757283921","firstName":"Teacher1","middleName":"","lastName":"WebCraft IT","emailId":"teacher1@webcraft.co.in","phoneNumber":"","userRoles":[{"roleId":1,"roleName":"TEACHER","description":"Fast track user"}],"profilePicUrl":"https:\/\/lh3.googleusercontent.com\/-XdUIqdMkCWA\/AAAAAAAAAAI\/AAAAAAAAAAA\/4252rscbv5M\/s72-fbw=1\/photo.jpg","settings":{"assignmentFormatIds":["8b3ce1c3-706d-4332-9664-ad6c005f1c61","33b88170-998c-49e8-823f-ad8d00d766d2","dfb5c88d-9512-4eec-8a99-ad83007c0ff1","42011b54-6f7e-4e4c-b359-ad7f005db0bc","d57b90ae-f1d7-44a0-9fb0-ad8800c24725","9c8b0a78-5015-4835-9136-ad6d0051c073","eda3b85d-85ff-443d-bc8e-ad83008f3001","bb8d46ea-be2d-4302-a291-ad860060d1a3","551c9b9d-3c80-4f60-939a-ad7f0069b841","715263e2-d6f7-428e-a66a-ad8100a9dd91","11d0524d-5b04-4807-972b-ad7a00971448","a3eca3f1-f9b9-455c-a6ae-ad80005472e1"],"isLoggedIn":true,"board":{"id":"j39N8YxN","boardName":""},"grade":{"id":"xLuykOqQ","gradeName":""},"assignmentFormatIdToSelect":"8b3ce1c3-706d-4332-9664-ad6c005f1c61"}}';
        $response = $this->withSession(["profile" => json_decode($sessionData, true)])->get('grading/assessment/home');
        $response->assertStatus(Response::HTTP_OK);
        $response->assertSeeTextInOrder(['Question Paper', 'Share link'], true);
    }
    
    /** 
     * @group GradingHome
     */
    public function testGradingAssessmentHomePageFail(){
        $sessionData = '{"userId":"asd107540876783757283921","firstName":"Teacher1","middleName":"","lastName":"WebCraft IT","emailId":"teacher1@webcraft.co.in","phoneNumber":"","userRoles":[{"roleId":1,"roleName":"TEACHER","description":"Fast track user"}],"profilePicUrl":"https:\/\/lh3.googleusercontent.com\/-XdUIqdMkCWA\/AAAAAAAAAAI\/AAAAAAAAAAA\/4252rscbv5M\/s72-fbw=1\/photo.jpg","settings":{"assignmentFormatIds":["8b3ce1c3-706d-4332-9664-ad6c005f1c61","33b88170-998c-49e8-823f-ad8d00d766d2","dfb5c88d-9512-4eec-8a99-ad83007c0ff1","42011b54-6f7e-4e4c-b359-ad7f005db0bc","d57b90ae-f1d7-44a0-9fb0-ad8800c24725","9c8b0a78-5015-4835-9136-ad6d0051c073","eda3b85d-85ff-443d-bc8e-ad83008f3001","bb8d46ea-be2d-4302-a291-ad860060d1a3","551c9b9d-3c80-4f60-939a-ad7f0069b841","715263e2-d6f7-428e-a66a-ad8100a9dd91"],"isLoggedIn":true,"board":{"id":"j39N8YxN","boardName":""},"grade":{"id":"xLuykOqQ","gradeName":""},"assignmentFormatIdToSelect":"8b3ce1c3-706d-4332-9664-ad6c005f1c61"}}';
        $response = $this->withSession(["profile" => json_decode($sessionData, true)])->get('grading/assessment/home');
        $response->assertStatus(Response::HTTP_OK);
        $response->assertSeeTextInOrder([' No assessment available.'], true);
    }
    
    /** 
     * @group GradingHome
     */
    public function testGradingAssessmentBoardPageSuccess(){
        $sessionData = '{"userId":"107540876783757283921","firstName":"Teacher1","middleName":"","lastName":"WebCraft IT","emailId":"teacher1@webcraft.co.in","phoneNumber":"","userRoles":[{"roleId":1,"roleName":"TEACHER","description":"Fast track user"}],"profilePicUrl":"https:\/\/lh3.googleusercontent.com\/-XdUIqdMkCWA\/AAAAAAAAAAI\/AAAAAAAAAAA\/4252rscbv5M\/s72-fbw=1\/photo.jpg","settings":{"assignmentFormatIds":["8b3ce1c3-706d-4332-9664-ad6c005f1c61","33b88170-998c-49e8-823f-ad8d00d766d2","dfb5c88d-9512-4eec-8a99-ad83007c0ff1","42011b54-6f7e-4e4c-b359-ad7f005db0bc","d57b90ae-f1d7-44a0-9fb0-ad8800c24725","9c8b0a78-5015-4835-9136-ad6d0051c073","eda3b85d-85ff-443d-bc8e-ad83008f3001","bb8d46ea-be2d-4302-a291-ad860060d1a3","551c9b9d-3c80-4f60-939a-ad7f0069b841","715263e2-d6f7-428e-a66a-ad8100a9dd91","11d0524d-5b04-4807-972b-ad7a00971448","a3eca3f1-f9b9-455c-a6ae-ad80005472e1"],"isLoggedIn":true,"board":{"id":"j39N8YxN","boardName":""},"grade":{"id":"xLuykOqQ","gradeName":""},"assignmentFormatIdToSelect":"8b3ce1c3-706d-4332-9664-ad6c005f1c61"}}';

        $gradingData = '{"grades":["10","9"],"subjects":["Science"],"status":["Due","OverDue","Graded","Draft"],"assessments":[{"assessmentId":"6996a97f-62a8-4903-a17b-ad890050f722","assessmentName":"UeSVotZWsJJnCgb","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T17:25:58.401Z","dueDateTime":"2021-08-21T17:25:58.401Z","resultDateTime":"2021-08-22T17:25:58.401Z","status":"OverDue","testDuration":200,"maximumMarks":243,"totalStudents":14,"gradedStudents":2,"isResultPublished":true,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/6996a97f-62a8-4903-a17b-ad890050f722\/UeSVotZWsJJnCgb.pdf"}]}';

        $response = $this->withSession(["profile" => json_decode($sessionData, true), "gradingData" => json_decode($gradingData, true)])->get('grading/assessment/board/8f278c77-539a-4fa1-a040-ad9000490657');
        $response->assertStatus(Response::HTTP_OK);
        $response->assertSee('All');
        $response->assertSee('Ungraded');
        $response->assertSee('Graded');
        $response->assertSee('Draft');
    }

    /** 
     * @group GradingHome
     */
    public function testGradingAssessmentBoardPageFail(){
        $sessionData = '{"userId":"107540876783757283921","firstName":"Teacher1","middleName":"","lastName":"WebCraft IT","emailId":"teacher1@webcraft.co.in","phoneNumber":"","userRoles":[{"roleId":1,"roleName":"TEACHER","description":"Fast track user"}],"profilePicUrl":"https:\/\/lh3.googleusercontent.com\/-XdUIqdMkCWA\/AAAAAAAAAAI\/AAAAAAAAAAA\/4252rscbv5M\/s72-fbw=1\/photo.jpg","settings":{"assignmentFormatIds":["8b3ce1c3-706d-4332-9664-ad6c005f1c61","33b88170-998c-49e8-823f-ad8d00d766d2","dfb5c88d-9512-4eec-8a99-ad83007c0ff1","42011b54-6f7e-4e4c-b359-ad7f005db0bc","d57b90ae-f1d7-44a0-9fb0-ad8800c24725","9c8b0a78-5015-4835-9136-ad6d0051c073","eda3b85d-85ff-443d-bc8e-ad83008f3001","bb8d46ea-be2d-4302-a291-ad860060d1a3","551c9b9d-3c80-4f60-939a-ad7f0069b841","715263e2-d6f7-428e-a66a-ad8100a9dd91"],"isLoggedIn":true,"board":{"id":"j39N8YxN","boardName":""},"grade":{"id":"xLuykOqQ","gradeName":""},"assignmentFormatIdToSelect":"8b3ce1c3-706d-4332-9664-ad6c005f1c61"}}';

        $gradingData = '{"grades":["10","9"],"subjects":["Science"],"status":["Due","OverDue","Graded","Draft"],"assessments":[{"assessmentId":"6996a97f-62a8-4903-a17b-ad890050f722","assessmentName":"UeSVotZWsJJnCgb","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T17:25:58.401Z","dueDateTime":"2021-08-21T17:25:58.401Z","resultDateTime":"2021-08-22T17:25:58.401Z","status":"OverDue","testDuration":200,"maximumMarks":243,"totalStudents":14,"gradedStudents":2,"isResultPublished":true,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/6996a97f-62a8-4903-a17b-ad890050f722\/UeSVotZWsJJnCgb.pdf"},{"assessmentId":"f6e1b814-fdc3-4097-a9d5-ad890052453e","assessmentName":"UeSVotZWsJJnCgb","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T17:29:23.05Z","dueDateTime":"2021-08-21T17:29:23.05Z","resultDateTime":"2021-08-22T17:29:23.05Z","status":"OverDue","testDuration":200,"maximumMarks":243,"totalStudents":14,"gradedStudents":1,"isResultPublished":true,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/f6e1b814-fdc3-4097-a9d5-ad890052453e\/UeSVotZWsJJnCgb.pdf"}]}';

        $response = $this->withSession(["profile" => json_decode($sessionData, true), "gradingData" => json_decode($gradingData, true)])->get('grading/assessment/board/sada');
        $response->assertStatus(500);
    }

    /** 
     * @group GradingHome
     */
    public function testGradingAssessmentStudentPage(){
        $sessionData = '{"userId":"107540876783757283921","firstName":"Teacher1","middleName":"","lastName":"WebCraft IT","emailId":"teacher1@webcraft.co.in","phoneNumber":"","userRoles":[{"roleId":1,"roleName":"TEACHER","description":"Fast track user"}],"profilePicUrl":"https:\/\/lh3.googleusercontent.com\/-XdUIqdMkCWA\/AAAAAAAAAAI\/AAAAAAAAAAA\/4252rscbv5M\/s72-fbw=1\/photo.jpg","settings":{"assignmentFormatIds":["8b3ce1c3-706d-4332-9664-ad6c005f1c61","33b88170-998c-49e8-823f-ad8d00d766d2","dfb5c88d-9512-4eec-8a99-ad83007c0ff1","42011b54-6f7e-4e4c-b359-ad7f005db0bc","d57b90ae-f1d7-44a0-9fb0-ad8800c24725","9c8b0a78-5015-4835-9136-ad6d0051c073","eda3b85d-85ff-443d-bc8e-ad83008f3001","bb8d46ea-be2d-4302-a291-ad860060d1a3","551c9b9d-3c80-4f60-939a-ad7f0069b841","715263e2-d6f7-428e-a66a-ad8100a9dd91","11d0524d-5b04-4807-972b-ad7a00971448","a3eca3f1-f9b9-455c-a6ae-ad80005472e1","c840058f-dfe8-4004-b44f-ad7f0083cbf7","137a9180-2ec9-4f88-8fbb-ad7f008b6bd5","f347ed5e-1915-40ca-bfb1-ad8100a97719","6031d7c5-74be-455b-a9f6-ad7a0096e167","3083f8c6-4b2f-4973-be32-ad8100a863db","a7d14d26-0504-468b-91fd-ad8100a7723c","ecbc2028-a9dd-4d45-8882-ad7f008a3c94","4c5fd4a6-633d-4022-90f7-ad7f009117f9","1e0f7bec-d512-4e1f-a25a-ad7f0087920e","4a855753-96ef-4722-85fc-ad7f00831d88","da356b7a-e480-48c1-a9bc-ad7f0069c195","65855f9a-363f-49bf-b17d-ad7d00d35bdf","4ea51dd9-fb4b-4668-bdea-ad6e0073066b","1ccbf1b7-1767-4dde-aeac-ad7b0090f1b4","62a04985-b004-4350-8177-ad7c00738c4a","0f0b8191-2e89-4473-b1cd-ad72008f944b","da040a53-021e-40d2-8c69-ad74006d5b6f","c4563b0c-aaff-481f-a994-ad7900d2b331","89ad7ce0-fc1c-4549-aae1-ad7a00960e83","169f0780-80c6-445a-83b0-ad6f006b53b0","bfb5f4fd-69a0-4796-aa8e-ad7200928e4b","8109867a-1970-4c9b-9e7e-ad7300c229a5","f685d0a3-a2ff-45b9-b109-ad7500ce0347","d8c20469-9e9f-4d23-bec5-ad7500cea617","5243e2e2-aacc-48d6-ba86-ad74006feff9","a3263ccd-1b8e-4753-876b-ad7300c28648","0b821116-c324-4a1a-bc37-ad6c0058c29c","309b26c3-d2c0-4831-9797-ad6f006e68bd","64bc6316-68d8-4704-97b2-ad6f006e5850","cbca2bc7-de1e-4d40-8b47-ad6e007455f6","7e05633b-a9b2-4b01-be17-ad6e0062fd9a","64af505a-a06c-4f77-91ca-ad6e005cfd70","d4d59124-5e9e-4ed2-8ef0-ad6e004a77dd","dd738ac8-f4af-475f-a9d8-ad6d010c319d","0d6581c7-daf9-42d5-b9e1-ad6c00f1527b","5f656898-5352-481f-a16f-ad6d00a244a9","c3c97bc4-9c33-4cf3-af42-ad6d00ab2aeb","e236dcd0-31b5-4a5f-8d94-ad6d009d41f6","e4e02328-7234-4210-b7b3-ad6d009048af","d39fd495-b2b3-4103-b29d-ad6d008e2112","3b52a79d-e6ee-44e9-a70c-ad6c0058c29d","0a33e9c7-64b5-401c-a1e5-ad6c0058c29d"],"isLoggedIn":true,"board":{"id":"j39N8YxN","boardName":""},"grade":{"id":"xLuykOqQ","gradeName":""},"assignmentFormatIdToSelect":"8b3ce1c3-706d-4332-9664-ad6c005f1c61"}}';

        $gradingData = '{"grades":["10","9"],"subjects":["Science"],"status":["Due","OverDue","Graded","Draft"],"assessments":[{"assessmentId":"6996a97f-62a8-4903-a17b-ad890050f722","assessmentName":"UeSVotZWsJJnCgb","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T17:25:58.401Z","dueDateTime":"2021-08-21T17:25:58.401Z","resultDateTime":"2021-08-22T17:25:58.401Z","status":"OverDue","testDuration":200,"maximumMarks":243,"totalStudents":14,"gradedStudents":2,"isResultPublished":true,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/6996a97f-62a8-4903-a17b-ad890050f722\/UeSVotZWsJJnCgb.pdf"},{"assessmentId":"f6e1b814-fdc3-4097-a9d5-ad890052453e","assessmentName":"UeSVotZWsJJnCgb","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T17:29:23.05Z","dueDateTime":"2021-08-21T17:29:23.05Z","resultDateTime":"2021-08-22T17:29:23.05Z","status":"OverDue","testDuration":200,"maximumMarks":243,"totalStudents":14,"gradedStudents":1,"isResultPublished":true,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/f6e1b814-fdc3-4097-a9d5-ad890052453e\/UeSVotZWsJJnCgb.pdf"},{"assessmentId":"876d4fcc-fddb-4249-842d-ad890053df9b","assessmentName":"hKXYEbiraqWmMfx","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T17:36:32.001Z","dueDateTime":"2021-08-21T17:36:32.001Z","resultDateTime":"2021-08-22T17:36:32.001Z","status":"OverDue","testDuration":200,"maximumMarks":243,"totalStudents":14,"gradedStudents":1,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/876d4fcc-fddb-4249-842d-ad890053df9b\/hKXYEbiraqWmMfx.pdf"},{"assessmentId":"bb858b58-cf33-4863-b5f5-ad8900549e05","assessmentName":"hKXYEbiraqWmMfx","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T17:38:00.061Z","dueDateTime":"2021-08-21T17:38:00.061Z","resultDateTime":"2021-08-22T17:38:00.061Z","status":"OverDue","testDuration":200,"maximumMarks":243,"totalStudents":14,"gradedStudents":0,"isResultPublished":true,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/bb858b58-cf33-4863-b5f5-ad8900549e05\/hKXYEbiraqWmMfx.pdf"},{"assessmentId":"4e6bfd3c-698c-4e0e-a357-ad89005ba019","assessmentName":"Class Exam I","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T05:33:40.318Z","dueDateTime":"2021-08-21T05:33:40.318Z","resultDateTime":"2021-08-22T05:33:40.318Z","status":"OverDue","testDuration":30,"maximumMarks":243,"totalStudents":3,"gradedStudents":3,"isResultPublished":true,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/4e6bfd3c-698c-4e0e-a357-ad89005ba019\/Class-Exam-I.pdf"},{"assessmentId":"63b8df0d-61a7-4b24-a3ee-ad89008c0222","assessmentName":"Class Exam I","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T20:59:15.445Z","dueDateTime":"2021-08-21T20:59:15.445Z","resultDateTime":"2021-08-22T20:59:15.445Z","status":"OverDue","testDuration":30,"maximumMarks":243,"totalStudents":2,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/63b8df0d-61a7-4b24-a3ee-ad89008c0222\/Class-Exam-I.pdf"},{"assessmentId":"fe27a9b4-6418-4970-ab7d-ad89008c866b","assessmentName":"Class Exam I","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T21:01:13.608Z","dueDateTime":"2021-08-20T21:01:00Z","resultDateTime":"2021-08-22T21:01:13.608Z","status":"OverDue","testDuration":30,"maximumMarks":243,"totalStudents":15,"gradedStudents":0,"isResultPublished":true,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/fe27a9b4-6418-4970-ab7d-ad89008c866b\/Class-Exam-I.pdf"},{"assessmentId":"d4eb3a01-5243-4043-8acb-ad89008ec100","assessmentName":"Class Test III","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T08:44:16.082Z","dueDateTime":"2021-08-21T08:44:16.082Z","resultDateTime":"2021-08-22T08:44:16.082Z","status":"OverDue","testDuration":10,"maximumMarks":243,"totalStudents":2,"gradedStudents":2,"isResultPublished":true,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/d4eb3a01-5243-4043-8acb-ad89008ec100\/Class-Test-III.pdf"},{"assessmentId":"f7eff589-93ca-4618-aeb2-ad8900a3504e","assessmentName":"test class","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T09:54:38.885Z","dueDateTime":"2021-08-21T09:54:38.885Z","resultDateTime":"2021-08-22T09:54:38.885Z","status":"OverDue","testDuration":10,"maximumMarks":243,"totalStudents":3,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/f7eff589-93ca-4618-aeb2-ad8900a3504e\/test-class.pdf"},{"assessmentId":"7d9aed29-579c-4ed5-8416-ad8900ad70b0","assessmentName":"Class Test XII Timer Test","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T13:25:16.917Z","dueDateTime":"2021-08-21T13:25:16.917Z","resultDateTime":"2021-08-22T13:25:16.917Z","status":"OverDue","testDuration":10,"maximumMarks":7,"totalStudents":1,"gradedStudents":1,"isResultPublished":true,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/7d9aed29-579c-4ed5-8416-ad8900ad70b0\/Class-Test-XII-Timer-Test.pdf"},{"assessmentId":"c102841e-ca64-45f5-a553-ad8900b2248e","assessmentName":"test class","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T23:18:28.045Z","dueDateTime":"2021-08-21T23:18:28.045Z","resultDateTime":"2021-08-22T23:18:28.045Z","status":"OverDue","testDuration":10,"maximumMarks":243,"totalStudents":2,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/c102841e-ca64-45f5-a553-ad8900b2248e\/test-class.pdf"},{"assessmentId":"5b1e95f9-4a9e-4757-8d03-ad8900b22e0c","assessmentName":"Class Test IV","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T10:48:45.163Z","dueDateTime":"2021-08-21T10:48:45.163Z","resultDateTime":"2021-08-22T10:48:45.163Z","status":"OverDue","testDuration":10,"maximumMarks":243,"totalStudents":1,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/5b1e95f9-4a9e-4757-8d03-ad8900b22e0c\/Class-Test-IV.pdf"},{"assessmentId":"d09cc04c-e713-4afb-9ad1-ad8900b2d9a5","assessmentName":"Class Test V","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T10:51:13.198Z","dueDateTime":"2021-08-21T10:51:13.198Z","resultDateTime":"2021-08-22T10:51:13.198Z","status":"OverDue","testDuration":10,"maximumMarks":243,"totalStudents":1,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/d09cc04c-e713-4afb-9ad1-ad8900b2d9a5\/Class-Test-V.pdf"},{"assessmentId":"241307a2-41e6-444f-a226-ad8900b3fb07","assessmentName":"Class Test V","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T10:55:00.696Z","dueDateTime":"2021-08-21T10:55:00.696Z","resultDateTime":"2021-08-22T10:55:00.696Z","status":"OverDue","testDuration":10,"maximumMarks":243,"totalStudents":1,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/241307a2-41e6-444f-a226-ad8900b3fb07\/Class-Test-V.pdf"},{"assessmentId":"cc1ab06c-00f0-4167-8064-ad8900d4e69c","assessmentName":"hKXYEbiraqWmMfx","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-20T01:25:04.997Z","dueDateTime":"2021-08-22T01:25:04.997Z","resultDateTime":"2021-08-23T01:25:04.997Z","status":"OverDue","testDuration":200,"maximumMarks":243,"totalStudents":13,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/cc1ab06c-00f0-4167-8064-ad8900d4e69c\/hKXYEbiraqWmMfx.pdf"},{"assessmentId":"5a65f5e1-87bf-4d19-9e1a-ad8900d730a7","assessmentName":"Test i","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-20T01:33:38.013Z","dueDateTime":"2021-08-22T01:33:38.013Z","resultDateTime":"2021-08-23T01:33:38.013Z","status":"OverDue","testDuration":265,"maximumMarks":7,"totalStudents":13,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/5a65f5e1-87bf-4d19-9e1a-ad8900d730a7\/Test-i.pdf"},{"assessmentId":"aedd4c89-f363-4f97-bd9c-ad8900dda2f0","assessmentName":"Class Test XIIV","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T13:26:58.914Z","dueDateTime":"2021-08-21T13:26:58.914Z","resultDateTime":"2021-08-22T13:26:58.914Z","status":"OverDue","testDuration":10,"maximumMarks":243,"totalStudents":1,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/aedd4c89-f363-4f97-bd9c-ad8900dda2f0\/Class-Test-XIIV.pdf"},{"assessmentId":"2980342b-5f09-43ba-bc9e-ad8900debe7c","assessmentName":"Class Test XVI","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-19T14:05:00Z","dueDateTime":"2021-08-21T14:05:00Z","resultDateTime":"2021-08-23T14:05:00Z","status":"OverDue","testDuration":10,"maximumMarks":0,"totalStudents":1,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":null},{"assessmentId":"43aec57c-a6f4-4971-8e1f-ad8a00530754","assessmentName":"jmhnSXqkFEKFKNN","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-20T17:33:30.487Z","dueDateTime":"2021-08-22T17:33:30.487Z","resultDateTime":"2021-08-23T17:33:30.487Z","status":"OverDue","testDuration":200,"maximumMarks":243,"totalStudents":13,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/43aec57c-a6f4-4971-8e1f-ad8a00530754\/jmhnSXqkFEKFKNN.pdf"},{"assessmentId":"a32e1de2-a309-4506-8b57-ad8a00541d69","assessmentName":"jmhnSXqkFEKFKNN","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-20T17:36:10.822Z","dueDateTime":"2021-08-22T17:36:10.822Z","resultDateTime":"2021-08-23T17:36:10.822Z","status":"OverDue","testDuration":200,"maximumMarks":243,"totalStudents":13,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/a32e1de2-a309-4506-8b57-ad8a00541d69\/jmhnSXqkFEKFKNN.pdf"},{"assessmentId":"843d9e8b-fd19-42af-bf28-ad8a005c034b","assessmentName":"BvOYVOqCDgtJuDt","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-20T18:06:11.375Z","dueDateTime":"2021-08-22T18:06:11.375Z","resultDateTime":"2021-08-23T18:06:11.375Z","status":"OverDue","testDuration":200,"maximumMarks":243,"totalStudents":13,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/843d9e8b-fd19-42af-bf28-ad8a005c034b\/BvOYVOqCDgtJuDt.pdf"},{"assessmentId":"c47a2137-f155-4b09-9808-ad8a005d10ec","assessmentName":"BvOYVOqCDgtJuDt","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-20T18:08:46.205Z","dueDateTime":"2021-08-22T18:08:46.205Z","resultDateTime":"2021-08-23T18:08:46.205Z","status":"OverDue","testDuration":200,"maximumMarks":243,"totalStudents":13,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/c47a2137-f155-4b09-9808-ad8a005d10ec\/BvOYVOqCDgtJuDt.pdf"},{"assessmentId":"2a6e86b6-e340-4a1f-b7d6-ad8a005ee8b9","assessmentName":"Quaterly Exam I","board":"CBSE","grade":"10","subject":"Science","startDateTime":"2021-08-20T05:44:36.728Z","dueDateTime":"2021-08-22T05:44:36.728Z","resultDateTime":"2021-08-23T05:44:36.728Z","status":"OverDue","testDuration":15,"maximumMarks":243,"totalStudents":2,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/2a6e86b6-e340-4a1f-b7d6-ad8a005ee8b9\/Quaterly-Exam-I.pdf"},{"assessmentId":"71d96392-f8a5-4469-a5ff-ad8b005048ef","assessmentName":"Quaterly Test","board":"CBSE","grade":"9","subject":"Science","startDateTime":"2021-08-21T04:52:54.32Z","dueDateTime":"2021-08-23T04:52:54.32Z","resultDateTime":"2021-08-24T04:52:54.32Z","status":"OverDue","testDuration":15,"maximumMarks":25,"totalStudents":2,"gradedStudents":0,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/71d96392-f8a5-4469-a5ff-ad8b005048ef\/Quaterly-Test.pdf"},{"assessmentId":"a820a2fe-0dee-4d73-8502-ad8b00658b1c","assessmentName":"Quaterly Test","board":"CBSE","grade":"9","subject":"Science","startDateTime":"2021-08-21T18:39:38.288Z","dueDateTime":"2021-08-23T18:39:38.288Z","resultDateTime":"2021-08-24T18:39:38.288Z","status":"OverDue","testDuration":15,"maximumMarks":25,"totalStudents":35,"gradedStudents":1,"isResultPublished":false,"questionPaperFileUrl":"https:\/\/magicbandstorage.blob.core.windows.net\/magicbandquestionpaper\/a820a2fe-0dee-4d73-8502-ad8b00658b1c\/Quaterly-Test.pdf"}]}';

        $response = $this->withSession(["profile" => json_decode($sessionData, true), "gradingData" => json_decode($gradingData, true)])->get('grading/assessment/students/117059217978848585310/70bd43f8-aede-408d-b0be-ad90007fde14/a01dae6e-94f0-47d8-bb54-ad900080322d');
        $response->assertStatus(200);
        $response->assertSee('All');
        $response->assertSee('Ungraded');
        $response->assertSee('Graded');
        $response->assertSee('Draft');
    }

}
